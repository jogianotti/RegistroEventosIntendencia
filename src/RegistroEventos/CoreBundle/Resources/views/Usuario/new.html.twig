{% extends 'RegistroEventosCoreBundle::base.html.twig' %}

{% block styles %}
    {{ parent() }}
    <link type="text/css" rel="stylesheet" href="{{ asset('bundles/registroeventoscore/css/usuarios.css') }}" />
{% endblock %}

{% block body -%}
    <div class="row div-navs">
    <div class="col-sm-10 col-sm-offset-1">
        <ul class="nav nav-tabs">
          <li class="active"><a href="{{ path('usuarios') }}">Usuarios</a></li>
          <li class=""><a href="{{ path('tipos_eventos') }}">Tipos de evento</a></li>
          <li class=""><a href="{{ path('estadisticas') }}">Estad√≠sticas</a></li>
        </ul>
    </div>
    </div>
    <a href="{{ path('usuarios') }}" role="button" class="btn btn-default btn-large">
        <span class="glyphicon glyphicon-arrow-left" aria-hidden="true"></span>
        Regresar al listado de usuarios</a>
    
    <div class="row">
        <div class="col-sm-6 col-sm-offset-3">
            <h2>Nuevo Usuario</h2>
            {{ form_start(form, {attr:{role:'form'}}) }}
            <div class="form-group">
                {#{{ form_errors(form.nombre) }}#}
                {{ form_label(form.nombre, 'Nombre y Apellido: ')}}
                {{ form_widget(form.nombre, { 'attr': {'class': 'form-control'} }) }}
            </div>
            {% if form_errors(form.nombre) %}
                <div class="alert alert-danger alert-dismissible fade in" role="alert">{{ form_errors(form.nombre) }}</div>
            {% endif %}
            <div class="form-group">
                {#{{ form_errors(form.username) }}#}
                {{ form_label(form.username, 'Nombre de Usuario: ')}}
                {{ form_widget(form.username, { 'attr': {'class': 'form-control'} }) }}
            </div>
            {% if form_errors(form.username) %}
                <div class="alert alert-danger alert-dismissible fade in" role="alert">{{ form_errors(form.username) }}</div>
            {% endif %}
            <div class="form-group">
                {#{{ form_errors(form.plainPassword.first) }}#}
                {{ form_label(form.plainPassword.first, 'Clave: ')}}
                {{ form_widget(form.plainPassword.first, { 'attr': {'class': 'form-control'} }) }}
            </div>
            {% if form_errors(form.plainPassword.first) %}
                <div class="alert alert-danger alert-dismissible fade in" role="alert">{{ form_errors(form.plainPassword.first) }}</div>
            {% endif %}
            <div class="form-group">
                {#{{ form_errors(form.plainPassword.second) }}#}
                {{ form_label(form.plainPassword.second, 'Confirmacion Clave: ')}}
                {{ form_widget(form.plainPassword.second, { 'attr': {'class': 'form-control'} }) }}
            </div>
            {% if form_errors(form.plainPassword.second) %}
                <div class="alert alert-danger alert-dismissible fade in" role="alert">{{ form_errors(form.plainPassword.second) }}</div>
            {% endif %}
            <div class="form-group">
                {{ form_errors(form.role) }}
                {{ form_label(form.role, 'Rol de usuario: ')}}
                {{ form_widget(form.role, { 'attr': {'class': 'form-control'} }) }}
            </div>
            <div class="form-group">
                {{ form_errors(form.file) }}
                {{ form_label(form.file, 'Foto del usuario (opcional): ')}}
                {{ form_widget(form.file, { 'attr': {'class': ''} }) }}
            </div>	
            {% if error %}
                <div class="alert alert-danger alert-dismissible fade in" role="alert">{{ error }}</div>
            {% endif %}
            <div class="form-group">
                {{ form_widget(form.baja, { 'attr': {'class': 'oculto'} }) }}
            </div>

            {{ form_widget(form._token) }}

            <div class="space"></div>
            {{form_widget(form.submit)}}

            </form>

        </div>
    </div>
{% endblock %}
